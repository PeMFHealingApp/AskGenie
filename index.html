<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Programs JSON Editor</title>
</head>
<body>

<h1>Programs JSON Editor</h1>

<form id="entryForm" onsubmit="return false;">
  Category:<br>
  <input type="text" id="category" required><br><br>
  Title:<br>
  <input type="text" id="title" required><br><br>
  URL:<br>
  <input type="url" id="url" required><br><br>
  <button type="button" onclick="addEntry()">Add Entry</button>
</form>

<h2>Entries</h2>
<table border="1" cellpadding="5" id="entriesTable">
  <tr>
    <th>Category</th>
    <th>Title</th>
    <th>URL</th>
  </tr>
</table>

<br>
<button onclick="downloadJSON()">Submit All</button>

<script>
let entries = [];

function addEntry() {
  const category = document.getElementById('category').value.trim();
  const title = document.getElementById('title').value.trim();
  const url = document.getElementById('url').value.trim();

  if (!category || !title || !url) {
    alert("Please fill all fields");
    return;
  }

  entries.push({ category, title, url });

  const table = document.getElementById('entriesTable');
  const row = table.insertRow();
  row.insertCell(0).textContent = category;
  row.insertCell(1).textContent = title;
  row.insertCell(2).textContent = url;

  document.getElementById('entryForm').reset();
}

function downloadJSON() {
  const blob = new Blob([JSON.stringify(entries, null, 2)], { type: "application/json" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "programs_cleaned.json";
  a.click();
}
</script>

</body>
</html>
